---
import { X } from "lucide-react";
---

<div
  class="flex flex-col justify-between absolute top-8 right-0 p-4 max-w-[500px] overflow-y-auto"
>
  <!-- Landmarks Panel -->
  <div class="w-full bg-white rounded-2xl p-4 mt-4 shadow" id="rightSidePannel">
    <div class="flex justify-end">
      <button onclick="collabes()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-panel-right-open-icon lucide-panel-right-open"
          ><rect width="18" height="18" x="3" y="3" rx="2"></rect><path
            d="M15 3v18"></path><path d="m10 15-3-3 3-3"></path></svg
        >
      </button>
    </div>

    <div class="" id="rightSidePannelContainer">
      <div class="text-lg font-semibold text-gray-800 mb-1">Landmarks</div>
      <p class="text-sm text-gray-600">
        Double click on body and select landmark
      </p>

      <select
        id="levelSelecterForLandmarking"
        class="w-full bg-gray-100 px-3 py-2 rounded-lg mt-3 text-sm border focus:outline-none focus:ring"
      >
        <option value="select level">Select level</option>
      </select>

      <div class="mt-4 flex flex-col items-center text-sm space-y-4">
        <!-- Top Row -->
        <div class="flex flex-row justify-center space-x-1">
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200"
          >
            Right Back Princess Seam
          </button>
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200"
          >
            Center Back
          </button>
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200"
          >
            Left Back Princess Seam
          </button>
        </div>

        <!-- Middle Row with Canvas -->
        <div
          class="flex flex-row justify-between items-center space-x-3 w-full"
        >
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200 text-center"
          >
            Left Side<br />Seam
          </button>
          <div
            class="bg-white border rounded flex items-center justify-center aspect-square"
          >
            <canvas class="w-full h-full bg-gray-100 rounded" id="myChart"
            ></canvas>
          </div>
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200 text-center"
          >
            Right Side<br />Seam
          </button>
        </div>

        <!-- Bottom Row -->
        <div class="flex flex-row justify-center space-x-1">
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200"
          >
            Right Front Princess Seam
          </button>
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200"
          >
            Center Front
          </button>
          <button
            class="px-2 py-2 rounded-lg bg-gray-100 border hover:bg-gray-200"
          >
            Left Front Princess Seam
          </button>
        </div>
      </div>
      <div class="flex justify-center">
        <button
          class="bg-gray-100 mt-2 px-3 py-2 rounded-lg hover:bg-gray-200 border"
          onclick="saveBodyJson()">Save Landmark</button
        >
      </div>
    </div>
  </div>
</div>
<script>
  let open = true;
  (window as any).collabes = () => {
    const rightSidePannelContainer = document.getElementById(
      "rightSidePannelContainer"
    );
    if (!rightSidePannelContainer) return;
    if (open) {
      rightSidePannelContainer.classList.add("hidden");
    } else {
      rightSidePannelContainer.classList.remove("hidden");
    }
    open = !open;
  };
</script>
